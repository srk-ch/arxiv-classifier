<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>arXiv Paper Classifier | AI-Powered Research Classification</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0e27;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(99, 102, 241, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(236, 72, 153, 0.15) 0%, transparent 50%);
            pointer-events: none;
        }

        .container {
            max-width: 1000px;
            width: 100%;
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            box-shadow: 0 20px 80px rgba(0,0,0,0.5);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.08);
            position: relative;
            z-index: 1;
            padding: 30px;
        }

        .header {
            background: linear-gradient(135deg, #6366f1 0%, #ec4899 100%);
            padding: 40px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
            border-radius: 20px;
            margin-bottom: 30px;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .header > * {
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 10px;
            letter-spacing: -1px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.95;
            font-weight: 300;
        }

        .badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.85em;
            margin-top: 15px;
            font-weight: 500;
        }

        .content {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 600;
            font-size: 1em;
        }

        label .emoji {
            margin-right: 8px;
        }

        input[type="text"], textarea {
            width: 100%;
            padding: 16px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            font-size: 16px;
            font-family: inherit;
            transition: all 0.3s;
            color: white;
        }

        input[type="text"]::placeholder,
        textarea::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        input[type="text"]:focus, textarea:focus {
            outline: none;
            border-color: #6366f1;
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }

        textarea {
            resize: vertical;
            min-height: 160px;
            line-height: 1.6;
        }

        .char-count {
            text-align: right;
            font-size: 0.85em;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 5px;
        }

        button {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #6366f1 0%, #ec4899 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        button:hover:not(:disabled)::before {
            left: 100%;
        }

        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.5);
        }

        button:active:not(:disabled) {
            transform: translateY(0);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .button-text {
            position: relative;
            z-index: 1;
        }

        .loader {
            display: none;
            text-align: center;
            padding: 30px;
        }

        .loader.active {
            display: block;
        }

        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-top: 4px solid #6366f1;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .result {
            display: none;
            margin-top: 30px;
        }

        .result.active {
            display: block;
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .main-result {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 30px;
            border-radius: 16px;
            color: white;
            margin-bottom: 25px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .main-result::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: rotate 15s linear infinite;
        }

        .main-result > * {
            position: relative;
            z-index: 1;
        }

        .result-icon {
            font-size: 4em;
            margin-bottom: 15px;
            display: block;
            animation: bounce 2s ease infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .result-category {
            font-size: 1.8em;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .result-description {
            font-size: 1.05em;
            opacity: 0.95;
            margin-bottom: 20px;
        }

        .confidence-container {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 12px;
        }

        .confidence-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .confidence-bar {
            background: rgba(255,255,255,0.3);
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .confidence-fill {
            background: white;
            height: 100%;
            border-radius: 15px;
            display: flex;
            align-items: center;
            padding-left: 15px;
            font-weight: 700;
            color: #6366f1;
            transition: width 1s ease;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }

        .top-predictions {
            margin-top: 25px;
        }

        .section-title {
            font-size: 1.3em;
            font-weight: 600;
            color: white;
            margin-bottom: 15px;
        }

        .prediction-card {
            background: rgba(255, 255, 255, 0.08);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 12px;
            border-left: 4px solid;
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .prediction-card:hover {
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            transform: translateX(5px);
        }

        .prediction-header {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .prediction-icon {
            font-size: 2em;
            margin-right: 15px;
        }

        .prediction-info {
            flex: 1;
        }

        .prediction-name {
            font-weight: 600;
            color: white;
            font-size: 1.05em;
            margin-bottom: 3px;
        }

        .prediction-desc {
            font-size: 0.85em;
            color: rgba(255, 255, 255, 0.6);
        }

        .prediction-confidence {
            font-weight: 700;
            font-size: 1.2em;
            color: #6366f1;
        }

        .mini-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 8px;
        }

        .mini-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.8s ease;
        }

        .error {
            display: none;
            background: rgba(239, 68, 68, 0.1);
            border: 2px solid rgba(239, 68, 68, 0.3);
            color: #fca5a5;
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
        }

        .error.active {
            display: block;
        }

        .error-title {
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 1.1em;
            color: #ef4444;
        }

        .stats {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat {
            flex: 1;
            text-align: center;
        }

        .stat-value {
            font-size: 1.5em;
            font-weight: 700;
            background: linear-gradient(135deg, #6366f1, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            font-size: 0.85em;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 3px;
        }

        .examples {
            margin-top: 30px;
            padding: 25px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 12px;
            border: 2px dashed rgba(59, 130, 246, 0.3);
        }

        .examples h3 {
            color: #60a5fa;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .example-btn {
            display: inline-block;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(147, 197, 253, 0.3);
            border-radius: 8px;
            margin: 5px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s;
            color: white;
        }

        .example-btn:hover {
            background: #3b82f6;
            color: white;
            transform: scale(1.05);
            border-color: #3b82f6;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 25px;
            }

            .stats {
                flex-direction: column;
            }

            .container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéì arXiv Paper Classifier</h1>
            <p>AI-Powered Research Paper Categorization</p>
            <div class="badge">‚ö° Powered by CatBoost ML | 87.56% Accuracy</div>
        </div>

        <div class="content">
            <form id="classifyForm">
                <div class="form-group">
                    <label><span class="emoji">üìù</span> Paper Title</label>
                    <input
                        type="text"
                        id="title"
                        placeholder="Enter your research paper title..."
                        required
                    >
                </div>

                <div class="form-group">
                    <label><span class="emoji">üìÑ</span> Abstract</label>
                    <textarea
                        id="abstract"
                        placeholder="Paste your paper abstract here. The more detail you provide, the better the classification..."
                        required
                    ></textarea>
                    <div class="char-count">
                        <span id="charCount">0</span> characters
                    </div>
                </div>

                <button type="submit" id="submitBtn">
                    <span class="button-text">üîç Classify Paper</span>
                </button>
            </form>

            <div class="examples">
                <h3>üí° Try an Example:</h3>
                <span class="example-btn" onclick="loadExample('ml')">ü§ñ Machine Learning</span>
                <span class="example-btn" onclick="loadExample('physics')">‚öõÔ∏è Physics</span>
                <span class="example-btn" onclick="loadExample('math')">üìê Mathematics</span>
                <span class="example-btn" onclick="loadExample('bio')">üß¨ Biology</span>
            </div>

            <div class="loader" id="loader">
                <div class="spinner"></div>
                <p style="color: rgba(255, 255, 255, 0.8); font-weight: 500;">Analyzing your paper...</p>
            </div>

            <div class="result" id="result">
                <div class="main-result" id="mainResult">
                    <span class="result-icon" id="resultIcon">üéØ</span>
                    <div class="result-category" id="resultCategory">Category</div>
                    <div class="result-description" id="resultDescription">Description</div>

                    <div class="confidence-container">
                        <div class="confidence-label">Classification Confidence</div>
                        <div class="confidence-bar">
                            <div class="confidence-fill" id="mainConfidence">0%</div>
                        </div>
                    </div>
                </div>

                <div class="stats" id="stats">
                    <div class="stat">
                        <div class="stat-value" id="wordCount">0</div>
                        <div class="stat-label">Words Analyzed</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="charCountStat">0</div>
                        <div class="stat-label">Characters</div>
                    </div>
                </div>

                <div class="top-predictions">
                    <div class="section-title">üìä Top 5 Predictions</div>
                    <div id="topPredictions"></div>
                </div>
            </div>

            <div class="error" id="error">
                <div class="error-title">‚ö†Ô∏è Error</div>
                <div id="errorMessage"></div>
            </div>
        </div>
    </div>

    <script>
        // Character counter
        const abstract = document.getElementById('abstract');
        const charCount = document.getElementById('charCount');

        abstract.addEventListener('input', () => {
            charCount.textContent = abstract.value.length;
        });

        // Example papers
        const examples = {
            ml: {
                title: "Deep Neural Networks for Image Classification",
                abstract: "We present a novel deep learning architecture for image classification tasks. Our convolutional neural network achieves state-of-the-art performance on ImageNet dataset. The model uses residual connections and attention mechanisms to improve feature extraction. We demonstrate superior accuracy compared to existing methods while maintaining computational efficiency."
            },
            physics: {
                title: "Quantum Entanglement in Black Hole Thermodynamics",
                abstract: "This paper investigates the role of quantum entanglement in black hole thermodynamics. We analyze the entropy of quantum fields in curved spacetime and derive corrections to the Bekenstein-Hawking formula. Our results suggest a deep connection between quantum information theory and gravitational physics."
            },
            math: {
                title: "Prime Number Distribution in Arithmetic Progressions",
                abstract: "We study the distribution of prime numbers in arithmetic progressions using analytic number theory techniques. Building on Dirichlet's theorem, we establish tighter bounds on prime gaps within specific progressions. The proof employs L-functions and complex analysis methods."
            },
            bio: {
                title: "CRISPR-Cas9 Gene Editing in Human Embryos",
                abstract: "We report successful application of CRISPR-Cas9 technology for correcting genetic mutations in human embryos. The study demonstrates high efficiency and specificity in targeting disease-causing genes. We discuss ethical implications and potential therapeutic applications of this genome editing approach."
            }
        };

        function loadExample(type) {
            const example = examples[type];
            document.getElementById('title').value = example.title;
            document.getElementById('abstract').value = example.abstract;
            charCount.textContent = example.abstract.length;
        }

        // Form submission
        document.getElementById('classifyForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const title = document.getElementById('title').value;
            const abstract = document.getElementById('abstract').value;

            // Hide previous results
            document.getElementById('result').classList.remove('active');
            document.getElementById('error').classList.remove('active');

            // Show loader
            document.getElementById('loader').classList.add('active');
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('submitBtn').innerHTML = '<span class="button-text">‚è≥ Analyzing...</span>';

            try {
                const response = await fetch('/predict', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ title, abstract })
                });

                const data = await response.json();

                if (data.error) {
                    throw new Error(data.error + (data.suggestion ? '\n' + data.suggestion : ''));
                }

                // Display main result
                const mainResult = document.getElementById('mainResult');
                mainResult.style.background = `linear-gradient(135deg, ${data.prediction.color} 0%, ${adjustColor(data.prediction.color, -20)} 100%)`;

                document.getElementById('resultIcon').textContent = data.prediction.icon;
                document.getElementById('resultCategory').textContent = data.prediction.name;
                document.getElementById('resultDescription').textContent = data.prediction.description;

                const confidence = (data.prediction.confidence * 100).toFixed(1);
                const confEl = document.getElementById('mainConfidence');
                setTimeout(() => {
                    confEl.style.width = confidence + '%';
                    confEl.textContent = confidence + '%';
                }, 100);

                // Display stats
                if (data.text_stats) {
                    document.getElementById('wordCount').textContent = data.text_stats.word_count;
                    document.getElementById('charCountStat').textContent = data.text_stats.char_count;
                }

                // Display top predictions
                const topPredDiv = document.getElementById('topPredictions');
                topPredDiv.innerHTML = '';

                data.top_predictions.forEach((pred, idx) => {
                    const conf = (pred.confidence * 100).toFixed(1);
                    const card = document.createElement('div');
                    card.className = 'prediction-card';
                    card.style.borderLeftColor = pred.color;

                    card.innerHTML = `
                        <div class="prediction-header">
                            <div class="prediction-icon">${pred.icon}</div>
                            <div class="prediction-info">
                                <div class="prediction-name">${pred.name}</div>
                                <div class="prediction-desc">${pred.description}</div>
                            </div>
                            <div class="prediction-confidence">${conf}%</div>
                        </div>
                        <div class="mini-bar">
                            <div class="mini-fill" style="background: ${pred.color}; width: 0%;" data-width="${conf}%"></div>
                        </div>
                    `;

                    topPredDiv.appendChild(card);

                    // Animate bar
                    setTimeout(() => {
                        const bar = card.querySelector('.mini-fill');
                        bar.style.width = bar.dataset.width;
                    }, 100 + idx * 50);
                });

                document.getElementById('result').classList.add('active');

            } catch (error) {
                document.getElementById('errorMessage').textContent = error.message;
                document.getElementById('error').classList.add('active');
            } finally {
                document.getElementById('loader').classList.remove('active');
                document.getElementById('submitBtn').disabled = false;
                document.getElementById('submitBtn').innerHTML = '<span class="button-text">üîç Classify Paper</span>';
            }
        });

        // Helper function to adjust color brightness
        function adjustColor(color, amount) {
            return '#' + color.replace(/^#/, '').replace(/../g, color => ('0'+Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).substr(-2));
        }
    </script>
</body>
</html>